![C语言数据类型.png](https://upload-images.jianshu.io/upload_images/843214-60a96e08f5efabd5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)



表2-1				（基本数据类型描述 这个表可能有问题）

| **类型名称**     | **类型说明符**       | **字节** | **取值范围**                                           | **备注**        |
| ---------------- | -------------------- | -------- | ------------------------------------------------------ | --------------- |
| **整型**         | [signed] int         | 2        | $ -32768$~ $32767$ ($-2^{15}$ ~ $2^{15}-1$ )           |                 |
| **无符号整型**   | unsigned [int]       | 2        | 0 ~ 65535 ( 0 ~ $2^{16}-1$ )                           |                 |
| **短整型**       | [signed] short [int] | 2        | $-32768$~ $32767$  ($-2^{15}$ ~ $2^{15}-1$ )           |                 |
| **无符号短整型** | unsigned short [int] | 2        | 0 ~ 65535 ( 0 ~ $2^{16}-1$ )                           |                 |
| **长整型**       | [signed] long [int]  | 4        | $-2147483648$~ $2147483647$  ($-2^{31}$ ~ $2^{31}-1$ ) |                 |
| **无符号长整型** | unsigned long [int]  | 4        | 0 ~ $4294967295$ (0 ~ $2^{32}-1$ )                     |                 |
| **单精度实型**   | float                | 4        | $-3.4\times 10^{38}$ ~ $3.4\times 10^{38}$             | 7~8位有效数字   |
| **双精度实型**   | double               | 8        | $-1.7\times 10^{308}$ ~ $1.7\times 10^{308}$           | 15~16位有效数字 |
| **字符型**       | char                 | 1        | 0 ~ 255 ( 0 ~ $2^8 - 1$ )                              |                 |
| **有符号字符型** | signed char          | 1        | $-128$ ~ 127 ( $-2^7$ ~ $2^7 - 1$ )                    |                 |
| **无符号字符型** | unsigned char        | 1        | 0 ~ 255 ( 0 ~ $2^8 - 1$ )                              |                 |



正数的补码和原码相同，负数的补码为将该数的绝对值的二进制形式按位取反再加1。

如：求 $-10$ 的补码。

<img src="https://upload-images.jianshu.io/upload_images/843214-409ef80d602b2521.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="3761588870626.jpg" style="zoom:50%;" />



### 2.3.1 常量

 #### 1.整型常量

##### （1） 十进制整型常量

用（0 ~ 9）10个数字表示。例如，12，65，-456，65535。

#####（2） 八进制整型常量

以0开头，用（0 ~ 7）8个数字表示。例如，014，0101，0177777。

八进制一般表示无符号的数。

##### （3）十六进制整型常量

以0X或0x 开头，用（0 ~ 9）10个数字、（A ~F 或 a ~ f）6个字母表示。例如，0xC， 0x41，0xFFFF。

十六进制数一般表示无符号的数。

#### （4） 长整型常量

在C语言中，整型常量又可分为基本整型、长整型、短整型、无符号整型等。长整型常量用后缀“L” 或 “l”来表示。

例如：

1. 十进制长整型数：12L，65536L；
2. 八进制长整型数：014L，0200000L；
3. 十六进制长整型数：0XCL，0x10000L。

##### （5） 无符号整型常量

无符号整型常量用后缀“U”或“u”表示。

例如：

1. 十进制无符号整型数： 15u，234u；
2. 八进制无符号整型数：017u，0123u；
3. 十六进制无符号整型数：0xFu，0xACu；
4. 十进制无符号长整型数：15Lu，543Lu。



```c
int a,b,c;
a = 20;
b = 027;
c = 0x3F;
printf("%d, %d, %d\n",a, b, c); //打印为十进制的数
printf("%o, %o, %o\n",a, b, c); //打印为八进制的数
printf("%x, %x, %x\n",a, b, c); //打印为十六进制的数
```

输出为：

```
20, 23, 63
24, 27, 77
14, 17, 3f
```

#### 2.实型常量

##### （1）十进制小数形式

由数字0 ~ 9和小数点组成。例如：0.0，0.123， 7.89，0.18，$-123.45670$ 。

##### （2）十进制指数形式

指数形式又称为科学计数法。由整数部分、小数点、小数部分、E（或e）和整数阶码组成。其中阶码可以带正负号。

例如：1.2* $10^5$ = 120000可写成实数指数形式： 1.2E5 或 1.2E+5

3.4* $10^{-2}$ = 0.034可写成实数指数形式： 3.4E-2 



## 2.4 运算符和表达式

![运算符](https://upload-images.jianshu.io/upload_images/843214-f615639d1d318c5a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

### 2.4.1 算术运算符和算术表达式

#### 1.基本的算术运算符

#### 2. 自增、自减运算符

自增运算符“++” 的功能是使变量的值自增1，自减运算符“$--$”的功能是使变量的值自减1。<font color=#FF0000>**自增、自减运算符的优先级高于双目的基本算术运算符，其结合性为右结合。**</font>

### 2.4.4 逻辑运算符和逻辑表达式

表2-5				逻辑运算符的运算规则


| a        | b    | a && b | a \|\| b | !a   |
| -------- | ---- | ------ | -------- | ---- |
| 非0      | 非0  | 1      | 1        | 0    |
| 非0      | 0    | 0      | 1        | 0    |
| 0        | 非0  | 0      | 1        | 1    |
| 0        | 0    | 0      | 0        | 1    |



### 2.4.5 位运算符和位运算表达式

表2-6   			C语言的位运算符

| **运算符** | **含义**           | **运算符** | **含义**       |
| ---------- | ------------------ | ---------- | -------------- |
| &          | 按位逻辑与运算符   | ~          | 按位取反运算符 |
| \|         | 按位逻辑或运算符   | >>         | 右移运算符     |
| ^          | 按位逻辑异或运算符 | <<         | 左移运算符     |

#### 2.位运算符的含义及其使用

##### （1）按位“与”运算（&）

参与运算的数以补码的形式出现。

```
  9:00001001
& 8:00001000
--------------
  8:00001000
```



##### （2）按位“或”运算（|）

参与运算的数以补码的形式出现。

```
   00100110
|  00011011
-------------
   00111111
```



##### （3）按位“非”运算（~）

```
~  01010011
--------------
   10101100
```



##### （4）按位“异或”运算（^）

```
    00101101
^   01100110
-------------
    01001011
```



### 2.4.7 其他运算符

#### 1. 逗号运算符



#### 2. 取地址运算符 &



#### 3. 长度运算符 sizeof



### 读程序写结果：

1. 程序代码如下：

   ```c
   char s[] = "ab\n\\\'\r\b";
   printf("%d,%d \n",sizeof(s), strlen(s));
   ```

   结果：

   ```
   8,7
   ```

   

2. 程序代码如下：

   ```c
   int i = 5, j = 6, m = i+++j;
   printf("%d,%d,%d\n",i,j,m);
   ```
```
   
   结果：
   
```
   6,6,11
   ```
   
   解释：自增、自减运算符的优先级高于双目的基本算术运算符，其结合性为右结合。
   
3. 程序代码如下：

   ```c
   double f = 3.14159;
   int n;
   n = (int)(f + 10) % 3;
   printf("%d \n",n);
   ```

   结果：

   ```
   1
   ```

4. 程序代码如下：

   ```c
   int a=2,b=4,c=6,x, y;
   y = (x=a+b),(b+c);
   printf("y=%d,x=%d \n",y, x);
   ```

   结果：

   ```
   y=6,x=6 
   ```

5. 程序代码如下：

   ```c
   int i, j, x, y;
   i = 5, j = 7;
   x = ++i;
   y = j++;
   printf("%d,%d, %d,%d \n",i,j,x,y);
   ```

   结果：

   ```
   6,8, 6,7 
   ```

   



表3-1				printf函数中使用的格式说明符

| **格式字符** | **意义**                     | **举例**       |
| ------------ | ---------------------------- | -------------- |
| d            | 按有符号十进制形式输出整数   | printf(“%d",a) |
| o或O         | 按无符号八进制形式输出整数   | printf(“%o",a) |
| x或X         | 按无符号十六进制形式输出整数 | printf(“%x",a) |
| u            | 按无符号整数输出             | printf(“%u",a) |
| c            | 按字符型输出                 | printf(“%c",a) |
| s            | 按字符串输出                 | printf(“%s",a) |
| f            | 按浮点型小数输出             | printf(“%f",a) |
| e            | 按科学计数法输出             | printf(“%e",a) |
| g            | 按e和f格式中较短的一种输出   | printf(“%g",a) |
| %            | 输出字符%本身                | printf(“%%")   |



表3-2				printf函数中使用的附加格式说明符

| **修饰符** | **格式** | **说明**                                                     |
| ---------- | -------- | ------------------------------------------------------------ |
| l          | %ld      | 输出长整型数（只可与d、o、x和u组合使用）                     |
| m          | %md      | 以宽度输出整型数，不足m时，左补空格                          |
| .n         | %m.nf    | 对按%f或%e输出的实型数据，指定输出n位小数； 对按%s输出的字符串则表示从字符串最左端截取n个字符 |
| +          | %+ld     | 使输出的数值数据无论正负都带符号输出                         |
| -          | %-8.2f   | 使数据在输出域内按左对齐方式输出                             |



表4-1				常用的数学库函数

| **函数**  | **说明**                   | **举例**                           |
| --------- | -------------------------- | ---------------------------------- |
| cos(X)    | x（弧度）的余弦            | cos(0.0)=1.0                       |
| exp(X)    | 指数函数                   | exp(1.0)=2.71828 exp(2.0)=7.38906  |
| fabs(X)   | x的绝对值                  | fabs(-10)=10                       |
| floor(x)  | 将x取整为不大于x的最大整数 | floor(10.4)=10 floor(-8.9)=-9      |
| fmod(x,y) | x/y的浮点数余数            | fmod(13.657, 2.333)=1.992          |
| log(x)    | x的自然对数（底数为e）     | log(2.71828)=1.0 log(7.389056)=2.0 |
| log10(x)  | x的对数（底数为10）        | log10(10.0)=1.0 log10(100.0)=2.0   |
| pow(x)    | x的y次方                   | pow(2, 7)=128 pow(9, 0.5)=3        |
| sin(x)    | x（弧度）的正弦            | sin(0.0)=0.0                       |
| sqrt(x)   | x的平方根                  | sqrt(400.0)=20.0 tan(0.0)=0        |
| tan(x)    | x（弧度）的正切            |                                    |



表4-2				预处理命令表

| **预处理命令** | **格式**                               | **功能说明**                                                 |
| -------------- | -------------------------------------- | ------------------------------------------------------------ |
| #include       | #include<头文件名> #include “头文件吗” | 将一个头文件嵌入（包含）到当前文件                           |
| #define        | #define 宏名(标志符)字符串             | 把字符串明明为标志符（用标志符代表字符串）。标志符可以表示符号常量或宏名，编写源程序时代替“字符串”出现在程序中，编译时又被替换为“字符串”内容 |
| #undef         | #undef 标志符                          | 撤销前面用#define定义的标志符                                |
| #ifdef         | #ifdef 标志符     语句 #endif          | 条件编译。如果已定义了“标志符”，则编译“语句”                 |
| #ifndef        | #ifndef 标志符     语句 #endif         | 如果未定义了“标志符”，则编译“语句”                           |



表4-3				常用的C语言标准库头文件

| **标准库头文件** | **说明**                                                     |
| ---------------- | ------------------------------------------------------------ |
| <assert.h>       | 包含增加诊断以帮助程序调试的宏和信息                         |
| <math.h>         | 包含数学库函数的函数原型                                     |
| <stdio.h>        | 包含标准输入，输出库函数的函数原型及其使用的信息             |
| <stdlib.h>       | 包含将数字变为文本、将文本变为数字、内存分配、随机数和各种其他工具函数的函数原型 |
| <string.h>       | 包含C语言方式的字符串处理函数原型                            |
| <time.h>         | 包含操作时间和日期的函数原型和类型                           |



## 5.4 字符数组与字符串

### 5.4.1 字符数组与字符串的概念

与整型、实型数组不同的是，字符数组除了可以存放字符型数据外，还可以存放字符串。

<font color=#038103>**C语言规定：字符串的末尾必须有'\0'字符，即'\0'字符为字符串结束标志。**</font> '\0'是一个转义字符，它的ASCII码值为0。例如，字符串常量“China”在内存中存放时占用6个字节，如图5-4所示。

![3781588875695.jpg](https://upload-images.jianshu.io/upload_images/843214-6a935f114881b3a7.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)



**一个字符数组中若某个元素存放的是'\0'，系统就认为该数组中存放的是一个字符串。若字符数组中没有存放'\0'，则系统认为该数组中存放的是若干个字符型数组，只能对其中某个字符进行处理，而不能把它当作字符串处理。**



### 5.4.3 字符数组的初始化

#### 1.用字符处理赋初值

例如:

```c
char c[5] = {'C', 'h', 'i', 'n', 'a'};
```

则

```c
c[0] = 'C', ..., c[4] = 'a';
```

**c数组中存放的是5个字符型数据，不是字符串**。



再例如：

```c
char c[6] = {'C', 'h', 'i', 'n', 'a', '\0'};
```

则

```c
c[0] = 'C', ..., c[4] = 'a',c[5] = '\0';
```

可以把**c数组**看做是**存放了字符串“China”**。



如果定义的数组长度大于初值的个数，则其余元素存放'\0'字符，例如：

```c
char s[7] = {'s', 't', 'r', 'i', 'n', 'g'};
```

则

```c
s[6]= '\0';
```

**s数组存放的是一个字符串**。

#### 3. 初始化时长度的省略

例如：

```c
char b[ ] = "Good morning!";
```

此时b数组长度为14，`b[13] = '\0' `。b数组中存放的是一个字符串。



再例如：

```c
char s[] = {'s', 't', 'r', 'i', 'n', 'g'};
```

此时s数组长度Wie6，由于此数组没有字符串结束标志，因此不能作为字符串使用。

